{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":dependencyDashboard",
    ":semanticCommits",
    ":semanticCommitTypeAll(chore)",
    "group:monorepos",
    "group:recommended",
    "workarounds:all"
  ],
  "timezone": "Asia/Tokyo",
  "schedule": ["before 10am on monday"],
  "labels": ["dependencies"],
  "rangeStrategy": "bump",
  "lockFileMaintenance": {
    "enabled": true,
    "automerge": true,
    "schedule": ["before 10am on the first day of the month"]
  },
  "packageRules": [
    {
      "description": "Auto-merge patch and minor updates for devDependencies",
      "matchDepTypes": ["devDependencies"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Auto-merge patch updates for dependencies",
      "matchDepTypes": ["dependencies"],
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Auto-merge minor updates for safe packages",
      "matchDepTypes": ["dependencies"],
      "matchUpdateTypes": ["minor"],
      "matchPackagePatterns": [
        "^@tanstack/",
        "^lucide-react$",
        "^clsx$",
        "^tailwind-merge$",
        "^class-variance-authority$"
      ],
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Major updates require manual review",
      "matchUpdateTypes": ["major"],
      "automerge": false,
      "labels": ["dependencies", "major-update"]
    },
    {
      "description": "Critical frameworks require manual review",
      "matchPackagePatterns": [
        "^react$",
        "^react-dom$",
        "^vite$",
        "^typescript$",
        "^hono$",
        "^bun$"
      ],
      "matchUpdateTypes": ["minor", "major"],
      "automerge": false,
      "labels": ["dependencies", "critical-update"]
    },
    {
      "description": "Auto-merge type definition packages",
      "matchPackagePatterns": ["^@types/"],
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    },
    {
      "description": "Auto-merge Biome and linters",
      "matchPackageNames": ["@biomejs/biome", "lefthook"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true,
      "automergeType": "pr",
      "automergeStrategy": "squash"
    }
  ],
  "vulnerabilityAlerts": {
    "labels": ["security"],
    "automerge": true,
    "schedule": ["at any time"]
  },
  "prConcurrentLimit": 10,
  "prCreation": "immediate",
  "rebaseWhen": "behind-base-branch",
  "semanticCommits": "enabled",
  "commitMessagePrefix": "chore(deps):",
  "commitMessageAction": "update",
  "commitMessageTopic": "{{depName}}",
  "commitMessageExtra": "to {{newVersion}}",
  "commitMessageSuffix": "",
  "prTitle": "chore(deps): update {{depName}} to {{newVersion}}",
  "prBodyColumns": ["Package", "Change", "Type"],
  "prBodyDefinitions": {
    "Package": "**{{{depNameLinked}}}**",
    "Change": "`{{{displayFrom}}}` ? `{{{displayTo}}}`",
    "Type": "{{{updateType}}}"
  },
  "bumpVersion": null
}
